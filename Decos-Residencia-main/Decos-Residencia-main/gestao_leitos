CREATE DATABASE gestao_leitos;

USE gestao_leitos;

CREATE TABLE usuarios (
  id INT AUTO_INCREMENT PRIMARY KEY,
  nome VARCHAR(100),
  usuario VARCHAR(50) UNIQUE,
  senha VARCHAR(255),
  tipo ENUM('admin', 'funcionario') DEFAULT 'funcionario',
  criado_em TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE leitos (
  id INT AUTO_INCREMENT PRIMARY KEY,
  numero_leito VARCHAR(50),
  status ENUM('limpo', 'pendente', 'em_limpeza') DEFAULT 'pendente',
  atualizado_em TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);

CREATE TABLE limpezas (
  id INT AUTO_INCREMENT PRIMARY KEY,
  leito_id INT,
  responsavel VARCHAR(100),
  concluido_em TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (leito_id) REFERENCES leitos(id)
);
